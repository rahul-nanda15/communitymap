<html>

	<head>

		<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
		<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
		<script src="https://kit.fontawesome.com/4b51920527.js"></script>

		<link rel="stylesheet" href="https://unpkg.com/aos@2.3.0/dist/aos.css">
		<script src="https://unpkg.com/aos@2.3.0/dist/aos.js"></script>


		<script src="https://www.gstatic.com/firebasejs/7.6.0/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.6.0/firebase-analytics.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.6.0/firebase-auth.js"></script>
        <script src="https://www.gstatic.com/firebasejs/7.6.0/firebase-database.js"></script>
        <script src="https://apis.google.com/js/platform.js" async defer></script>
        <link rel="stylesheet" href="landing.css">

		<title></title>

	</head>

	<body>
		

		<nav class="navbar navbar-expand-sm bg-light">
			<!-- Nav bar titles -->
			<a class="navbar-brand" href="#" style="padding-left: 5%">Neighborhood Issue Tracker</a>
			<i class="fas fa-shield-alt" style="color:#0275d8;font-size: 30px"></i>
			

  <!-- Nav bar Links -->
		  <ul class="navbar-nav" style="padding-left:31%;">
		    <li class="nav-item active">
		      <a class="nav-link" href="#" style="font-weight: 700;">Home  <i class="fas fa-home" style="color:#0275d8;padding-left: 3px;"></i></a>
		    </li>
		    <li class="nav-item">
		      <a class="nav-link" href="mapfeed.html">Map/Feed  <i class="fas fa-map-marker-alt" style="color:#0275d8;padding-left: 3px;"></i></a>
		    </li>
		     <li class="nav-item">
		      <a class="nav-link" href="#">Analytics  <i class="fas fa-chart-bar" style="color:#0275d8;padding-left: 3px;"></i></a>
		    </li>
		    <li class="nav-item" style="padding-right: 15px;">
		      <a class="nav-link" href="profile.html">Profile  <i class="fas fa-user-alt" style="color:#0275d8;padding-left: 3px;"></i></a>
		    </li>
		    <!-- Button to add post to activity feed and leaflet map -->
		    <button class="btn btn-outline-primary my-2 my-sm-0" type="submit" onclick="signinout()" id="signBtn">Sign In </button> <h1 id="filler" style="padding-left: 10px"> </h1>
		    <button class="btn btn-outline-primary my-2 my-sm-0" type="submit" onclick="postModal()">Add Post + </button>
		  </ul>

		</nav>

		<div class="hero-container">

    		<div class="hero-body">
    			<div class="grid-container">
  					<div class="grid-item" data-aos="fade-up"><!-- data-aos is the imported animation class/library-->
  						<div class="ten" data-aos="fade-up">
  							<!-- setting titles of the wepage on landing page-->
  							<h2>Locate Crime<br>In Your Toronto Neighborhood</h2>
  							<br>
  							<h5>An online application dedicated to locating and sharing issues experienced by your neighbours in the GTA.</h5>
  						</div>
  					</div>
  
				</div>

				<!-- adding the spoonacular logo on landing page-->
				<div class="logocontain" data-aos="slide-up">
					<div class="logoitem1"></div>
					<div class="logoitem2">	
						<div id="createBTN"><button class="btn btn-outline-light my-2 my-sm-0 btn-lg" type="submit"><a class="text-white" onclick="createProfile()">Create your Profile! >></a></button></div><br>
						<button class="btn btn-outline-light my-2 my-sm-0 btn-lg" type="submit"><a class="text-white" href="mapfeed.html">See your Community's Activity Feed >></a></button><br><br>
						
						<div id="userInfo"></div>
					</div>
				</div>
			</div>
 		</div>
 		<h1 class="display-5 text-center text-primary pt-5" data-aos="slide-up">What do we do?</h1>
 		<div id="titleContain" class="pt-4 px-5" data-aos="slide-up">
 		<div class="card" style="width: 100%;">

		  <div class="card-body">

		  	<div class="row">
			  <div class="col-sm-4">
			    <div class="card bg-light border border-primary" >
			      <div class="card-body pt-5 text-center">
			        <h5 class="card-title text-primary font-weight-bold text-center h4">Share and Report</h5> <i class="far fa-comments" id="descriptionIcon"></i>
			        <p class="card-text px-3 py-2 text-center">Experiencing an issue in the area? You can share it publicly to others in the neighborhood using the "Add Post" feature of the webpage. The issue's location will be broadcasted onto a map and activity feed to be found by others. As these issues propose a danger to the livability of your neighborhood, it is crucial that they are shared to notify your community members.</p>
			        
			      </div>
			    </div>
			  </div>
			  <div class="col-sm-4">
			    <div class="card bg-light border border-primary">
			      <div class="card-body pt-5 text-center">
			        <h5 class="card-title text-primary font-weight-bold text-center h4">View Community Issues</h5><i class="fas fa-map-marked" id="descriptionIcon"></i>
			        <p class="card-text px-3 py-2 text-center">View issues reported by your Neighbours within your Toronto Specific ward to ensure your safety, increase awareness, and to progress towards solving the problems within your community. All alerts are viewed on a map and a real-time activity feed</p>
			       
			      </div>
			    </div>
			  </div>
			  <div class="col-sm-4">
			    <div class="card bg-light border border-primary">
			      <div class="card-body pt-5 text-center">
			        <h5 class="card-title  text-primary font-weight-bold text-center h4">Interact with Others</h5> <i class="fas fa-user-alt" id="descriptionIcon"></i>
			        <p class="card-text px-3 py-2 text-center">Create a personalized profile to interact and be discoverable by other community members using the application. With this profile, you can comment on your neighbour's posts or post feedback utilizing the like and dislike features!</p>
			       
				      </div>
				    </div>
				  </div>
				</div>

			  </div>
			</div>
		</div>
	
	<!-- Button trigger modal -->

<!-- Modal -->
		<div class="modal fade" id="usrModal" tabindex="-1" aria-labelledby="usrModalLabel" aria-hidden="true" data-backdrop="static">
		  <div class="modal-dialog">
		    <div class="modal-content">
		      <div class="modal-header"><h3>Profile Creation <i class="fas fa-user-alt" style="color:#0275d8;padding-left: 5px;"></i></h3>
		        <h5 class="modal-title" id="usrModalLabel">Profile Creation</h5>
		        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
		          <span aria-hidden="true">&times;</span>
		        </button>
		      </div>
		      <div class="modal-body">
		        Looks like you are new here, please create your profile to allow community members to recognize you. <br><br>
		        
		        <div class="input-group input-group-sm mb-3">
				  <div class="input-group-prepend">
				    <span class="input-group-text" id="inputGroup-sizing-sm">Username</span>
				  </div>
				  <input type="text" class="form-control border border-primary" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-sm" id="usernameInput">
				</div>
				
				<select name="wards" id="wards" class="custom-select custom-select-sm mb-3 border border-primary">
				<option value="Filler">Your Toronto Ward...</option>
	            <option value="Eglinton-Lawrence">Eglinton-Lawrence</option>
	            <option value="YorkCentre">York Centre</option>
	            <option value="EtobicokeNorth">Etobicoke North</option>
	            <option value="EtobicokeCenter">Etobicoke Center</option>
	            <option value="EtobicokeLakeshore">Etobicoke Lakeshore</option>
	            <option value="ParkdaleHighPark">Parkdale High Park</option>
	            <option value="YorkSouthWeston">York South Weston</option>
	            <option value="HumberRiverBlackCreek">Humber River Black Creek</option>
	            <option value="Davenport">Davenport</option>
	            <option value="SpadinaFortYork">Spadina Fort York</option>
	            <option value="UniversityRosedale">University Rosedale</option>
	            <option value="TorontoStPauls">Toronto St. Paul's</option>
	            <option value="TorontoCenter">Toronto Center</option>
	            <option value="TorontoDanforth">Toronto Danforth</option>
	            <option value="DonValleyWest">Don Valley West</option>
	            <option value="DonValleyEast">Don Valley East</option>
	            <option value="DonValleyNorth">Don Valley North</option>
	            <option value="Willowdale">Willowdale</option>
	            <option value="BeachesEastYork">Beaches East York</option>
	            <option value="ScarboroughSouthwest">Scarborough Southwest</option>
	            <option value="ScarboroughCentre">Scarborough Centre</option>
	            <option value="ScarboroughNorth">Scarborough North</option>
	            <option value="ScarboroughGuildwood">Scarborough Guildwood</option>
	            <option value="ScarboroughRougePark">Scarborough Rouge Park</option>
	            </select> <br>
	            <div class="form-group row">
				  <label for="example-date-input" class="col-7 col-form-label">Date Moved into the Neighborhood</label>
				  <div class="col-5">
				    <input class="form-control border border-primary" type="date" value="yyyy-mm-dd" id="moveDate">
				  </div>
				</div>

	            <div class="input-group input-group-sm mb-3">
				  <div class="input-group-prepend">
				    <span class="input-group-text" id="inputGroup-sizing-sm">Your Age</span>
				  </div>
				  <input type="text" class="form-control border border-primary" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-sm" id="ageInput">
				</div>

				
	           
	            <div class="mb-3">
				    <label for="validationTextarea">Your Favourite Hobbies/Interests (5 words):</label>
				    <textarea class="form-control border border-primary" id="InterestInput"></textarea>
				    
				  </div>
	            
		      </div>
		      <div class="modal-footer">
		        <button type="button" class="btn btn-primary" onclick="submitProfile()">Save changes</button>
		      </div>
		    </div>
		  </div>
		</div>


		<div class="modal fade" id="addPostModal" tabindex="-1" role="dialog" aria-labelledby="addPostLabel" aria-hidden="true">
		  <div class="modal-dialog" role="document">
		    <div class="modal-content">
		      <div class="modal-header">
		        Report and Post an Issue
		        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
		          <span aria-hidden="true">&times;</span>
		        </button>
		      </div>
		      <div class="modal-body">
		      	If you experienced an inconvenience or crime within the GTA, please report it here for your local community to view.
		      	<br><br>
				<select name="IssueType" id="IssueType" class="custom-select custom-select-sm mb-3 border border-primary">
				<option value="Filler">Select the Issue Category</option>
	            <option value="ClosedRoad">Closed Road</option>
	            <option value="LostDog">Lost Dog</option>
	            <option value="PackagePirate">Package Pirate</option>
	            <option value="Assault">Assault</option>
	            <option value="ResidentialRobbery">Residential Robbery</option>
	            <option value="CommericialRobbery">Commercial Robbery</option>
	            <option value="Burglary">Burglary</option>
	            <option value="Theft">Theft</option>
	            <option value="Shoplifting">Shoplifting</option>
	            <option value="SuspiciousStranger">Suspicious Stranger</option>
	            <option value="StolenCar">Stolen Car</option>
	            <option value="CarBurglary">Burglary From Motor Vehicle</option>
	            <option value="Arson">Arson</option>
	            <option value="Homocide">Homocide</option> 
	            <option value="SubstanceAbuse">Drug and Substance Abuse</option>
	            <option value="VehicleCrash">Vehicle Crash</option>
	            <option value="Vandalism">Vandalism</option>
	            <option value="WeaponsViolation">WeaponsViolation</option>
	            <option value="UnidentifiedParking">Unidentified Parking</option>
	            <option value="LostChild">Lost Child</option>
	            <option value="StolenBike">Lost/Stolen Bike</option>
	            
	            </select> <br>
	        	
	        	<select name="wards" id="wards" class="custom-select custom-select-sm mb-3 border border-primary">
				<option value="Filler">Select the Ward where it Occurred</option>
	            <option value="Eglinton-Lawrence">Eglinton-Lawrence</option>
	            <option value="YorkCentre">York Centre</option>
	            <option value="EtobicokeNorth">Etobicoke North</option>
	            <option value="EtobicokeCenter">Etobicoke Center</option>
	            <option value="EtobicokeLakeshore">Etobicoke Lakeshore</option>
	            <option value="ParkdaleHighPark">Parkdale High Park</option>
	            <option value="YorkSouthWeston">York South Weston</option>
	            <option value="HumberRiverBlackCreek">Humber River Black Creek</option>
	            <option value="Davenport">Davenport</option>
	            <option value="SpadinaFortYork">Spadina Fort York</option>
	            <option value="UniversityRosedale">University Rosedale</option>
	            <option value="TorontoStPauls">Toronto St. Paul's</option>
	            <option value="TorontoCenter">Toronto Center</option>
	            <option value="TorontoDanforth">Toronto Danforth</option>
	            <option value="DonValleyWest">Don Valley West</option>
	            <option value="DonValleyEast">Don Valley East</option>
	            <option value="DonValleyNorth">Don Valley North</option>
	            <option value="Willowdale">Willowdale</option>
	            <option value="BeachesEastYork">Beaches East York</option>
	            <option value="ScarboroughSouthwest">Scarborough Southwest</option>
	            <option value="ScarboroughCentre">Scarborough Centre</option>
	            <option value="ScarboroughNorth">Scarborough North</option>
	            <option value="ScarboroughGuildwood">Scarborough Guildwood</option>
	            <option value="ScarboroughRougePark">Scarborough Rouge Park</option>
	            </select> <br>
	            <div class="input-group input-group-sm mb-3">
				  <div class="input-group-prepend">
				    <span class="input-group-text" id="inputGroup-sizing-sm">Issue Address (#,Street,City,Province)</span>
				  </div>
				  <input type="text" class="form-control border border-primary" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-sm" id="issueAddress">
				</div>

				<div class="input-group input-group-sm mb-3">
				  <div class="input-group-prepend">
				    <span class="input-group-text" id="inputGroup-sizing-sm">Time of Day</span>
				  </div>
				  <input type="time" class="form-control border border-primary" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-sm" id="issueTime">
				</div>

				<div class="input-group input-group-sm mb-3">
				  <div class="input-group-prepend">
				    <span class="input-group-text" id="inputGroup-sizing-sm">Date of Issue</span>
				  </div>
				  <input type="date" class="form-control border border-primary" aria-label="Sizing example input" aria-describedby="inputGroup-sizing-sm" id="issueDate">
				</div>
	            
	            
	            <select name="locations" id="locations" class="custom-select custom-select-sm mb-3 border border-primary">
					<option value="Filler">Select the Location Type</option>
		            <option value="Street">Street</option>
		            <option value="Park">Park</option>
		            <option value="InBuilding">Inside A Building</option>
		            <option value="Village">Village</option>
		            <option value="CommunityCenter">Community Center</option>
		            <option value="Alley">Alley</option>
		            <option value="Highway">Highway</option>
		            <option value="Backyard">Backyard</option>
		            <option value="OutBuilding">Outside A Building</option>
		            <option value="InHouse">Inside a/my House</option>
		            <option value="ApartmentBuilding">Apartment Building</option>
		            <option value="ParkingLot">Parking Lot</option>
		            <option value="Storefront">Storefront</option>
		            <option value="BusStop">Bus Stop</option>
		            <option value="TrainStation">Train Station</option>
		            <option value="Restaurant">Restaurant</option>
		            <option value="GasStation">Gas Station</option>
		            <option value="OfficeBuilding">Office Building</option>
		            <option value="Hotel">Hotel</option>
		            <option value="TouristAttraction">Tourist Attraction</option>
		            <option value="Gym">Gym</option>
		            <option value="SportsArea">Sports Area</option>
		            <option value="Hospital">Hospital/Medical Center</option>
		            <option value="School">School Campus</option>
		            <option value="Library">Library</option>
	            </select> <br>

	            Description (50 words) <textarea id="issueDescription" rows="2" cols="50" class="form-control border border-primary"> </textarea>
	            <br>

	            <button onclick="addPost()" class="btn btn-primary">Submit Post</button>
		        
		      </div>

		    </div>
		  </div>
		</div>
		

	<script>

			var provider = new firebase.auth.GoogleAuthProvider();
			var userEmail = ''


			var config = 
	        {
	            apiKey: "AIzaSyAVcq-7VCgKOojXonMs44k8ydtMVnKpepI",
			    authDomain: "communitymap-ce99c.firebaseapp.com",
			    databaseURL: "https://communitymap-ce99c-default-rtdb.firebaseio.com",
			    projectId: "communitymap-ce99c",
			    storageBucket: "communitymap-ce99c.appspot.com",
			    messagingSenderId: "1093673663402",
			    appId: "1:1093673663402:web:975f9ebd940cffbef809d3",
			    measurementId: "G-73K8VQ27H0"   
	        };

	        firebase.initializeApp(config);

			currentUserName = ''  //empty var for name of user currently using the platform
			function postModal(){ //function executed once "Add Post" is clicked
		         var database = firebase.database();
		         var Userref = database.ref('Users'); //fetches data from database
		         Userref.on('value', checkUser, errData)
	        }
			function checkUser(data){ //function checks whether user is logged in. If they are logged in, they can add a post
				var userData = data.val();
			    var keys = Object.keys(userData);

				if (userEmail == ''){ //checks if logged in
					alert('You must be logged in to use this feature!')
				}
				else {
					fixedEmail = userEmail.replace(/[.]/g,",")
					if (userData[fixedEmail]!== "Add"){ //checks if you have created a profile
            				
            				$('#addPostModal').modal('show'); //modal is shown if user is logged in and has an existing profile
            			}
            		else {
            			alert("Please create a profile to add a post")
            		}

				}
				
				
			}


	        function signinout(){ //function that signs and signs out user
	        	if (userEmail !== ''){ //checks if user is signed in
	        		
	        		firebase.auth().signOut().then(function() { //if user is signed in, make button do sign out function when clicked
		              // Sign-out successful.
		            }, function(error) {
		              // An error happened.
		            });
		            userEmail = ''
		            console.log(userEmail)
		            console.log('signed out')
		            document.getElementById("userInfo").innerHTML = "";
	        		console.log("you are logged in")
	        	}
	        	else { //if user is not signed in, make button execute the sign in function
	        		var provider = new firebase.auth.GoogleAuthProvider();
	            firebase.auth().signInWithRedirect(provider).then(function(result) { 
	                window.location.replace("fbtest.html");

	            });

	        	}
	        	
	        }
	        function addPost(){ //checks if user is signed in to use feature
	        	if (userEmail == ''){
	        		alert("You must be logged in to use this feature")
	        	}
	        	else {

	        	}
	        }
	        function submitProfile(){ //function to add a new profile to database reference 'Users'

	        	//referencing user input values
	         	MoveinDate = document.getElementById("moveDate").value
	         	usr = document.getElementById("usernameInput").value
	         	var e = document.getElementById("wards"); //referencing dropdown menu value
            	var torontoWard = e.options[e.selectedIndex].text;
            	usrAge = document.getElementById("ageInput").value
            	interests = document.getElementById("InterestInput").value;

            	//creates array out of hobbies input to check if it is under 5 words
            	var intWordcount = interests.split(" ")

            	//error checking
            	if (intWordcount.length > 5){ //if input array is more than 5 elements, alert message
            		alert("You have entered more than 5 words")
            		return
            	}
            	//checking for empty inputs
            	else if (usr == 'Your Toronto Ward...'){
            		alert("You have left a text field empty")
            	}
            	else if (torontoWard == ''){
            		alert("You have left a text field empty")
            	}
            	else if (MoveinDate == ''){
            		alert("You have left a text field empty")
            	}
            	else if (usrAge == ''){
            		alert("You have left a text field empty")
            	}
            	else if (interests == ''){
            		alert("You have left a text field empty")
            	}
            	else{ //if no errors, close the modal and create data structure using user profile input
            		$('#usrModal').modal('toggle');

            		//data to be added to database--it contains the profile information
            		profileData = {

		            username: usr, //variables of previous inputs
		            ward: torontoWard,
		            age: usrAge,
		            moveDate: MoveinDate,
		            hobbies: interests

		            }

		            //taking out periods out of user email
		        	var fixedEmail = userEmail.replace(/[.]/g,",")

		            var database = firebase.database();
		        	var Userref = database.ref('Users');

		        	//setting profileData to the database under child fixedEmail
		        	Userref.child(fixedEmail).set(profileData);
            	}

	        }

	        firebase.auth().onAuthStateChanged(function(user) //checks if logged in
	        {
	            if (user == null) 
	            {
	            	console.log(userEmail)
	            	userEmail = '' //empties variable if not logged in
	            	currentUserName = ''
	            	document.getElementById("signBtn").innerHTML = "Sign In" //changes button label to sign in if not logged in
	                return;
	            } 
	            else 
	            {
	            	userEmail = user.email; //sets userEmail variable as the user's email if logged in
	            	currentUserName = user.displayName;

	            	//changes text on hero image to user specific info
	            	document.getElementById("userInfo").innerHTML = '<h5>Hello '+user.displayName+'! You are logged in using <h5 id="uEmail">'+userEmail+'</h5>'
	            	//user.email + " " + user.displayName
	            	
	            	console.log("signed in")
	            	console.log(userEmail)
	            	document.getElementById("signBtn").innerHTML = "Sign Out" //changes button label to sign out if logged in
	            	getData()

	            	
	            	
	                
	            } 
	        });

	        //function that submits only user's email to database by default, before they create their profile
	        function submitnewUser(){
	        	var database = firebase.database();
            	var Userref = database.ref('Users');
            	
            	fixedEmail = userEmail.replace(/[.]/g,",") //taking out periods of email
        

        		//creating filler data for user before they actually add their profile information
            	Userref.child(fixedEmail).set("Add");
            	



	        }
	        function getData(){ //fetches user data from the database
		         var database = firebase.database();
		         var Userref = database.ref('Users');
		         Userref.on('value', addUser, errData)
	        }
	        function addUser(data){
			    
			    var userData = data.val();
			    var keys = Object.keys(userData); //sets data as variable
            	
            	
            	fixedEmail = userEmail.replace(/[.]/g,",") //takes period out of email

            	sum = 0 //creating sum to indicate if user is logged in, but has not created their profile
            	
            	for (i in keys){ //loops through users in database

            		if (keys[i]==fixedEmail){ //if current user exists...
            			if (userData[fixedEmail]!== "Add"){ //check whether they have created their profile
            				sum = sum + 2  //if they did, add 2 to the sum
            			}
            			
            		}
            		else {
						sum = sum;            			
            		}
            		
            		
            	}
            	if (sum == 2){ //sum of 2 means they have created their profile
            		document.getElementById("createBTN").style.visibility = "hidden";
            		return
            	}
            	
            	else if (sum < 2){ //if not created profile, execute 2 functions to create their profile
            		
            		
            		submitnewUser()
            		createProfile()
            	}
            	
			            	
			            	

			            

			}
			function createProfile(){ //shows modal to create user profile
				$('#usrModal').modal('show');
			}

			function errData(err)
	        {
	            console.log('Error!')
	            console.log(err)
	        }

	        function addPost(){ //function to add a post to actiivty feed


	        	//referencing user input values
	        	
	        	var database = firebase.database();
		        var issueRef = database.ref('NeighborhoodIssues');

		        var i = document.getElementById("IssueType"); //referencing dropdown menu value
            	var issueType = i.options[i.selectedIndex].text;
            	var issueTyperF = i.options[i.selectedIndex].value;
            	

            	var w = document.getElementById("wards"); //referencing dropdown menu value
            	var issueWard = w.options[w.selectedIndex].text;

            	var issueAddress = document.getElementById("issueAddress").value
            	var issueTime = document.getElementById("issueTime").value
            	var issueDate = document.getElementById("issueDate").value

            	var l = document.getElementById("locations"); //referencing dropdown menu value
            	var issueLocation = l.options[l.selectedIndex].text;

            	var issueDescription = document.getElementById("issueDescription").value
            	
            	var fixEmail = userEmail.replace(/[.]/g,",")  //geting current user's email (without period)
            	var issueUserName = currentUserName; //getting the current user's username

		        var data = 	            { //creating data object to be inputted to database
	              
	                User: fixEmail,
	                Name: issueUserName,
	                IssueType: issueType,
	                Ward: issueWard,
	                Address: issueAddress, //data values are the user input variables
	                Time: issueTime,
	                Date: issueDate,
	                LocationType: issueLocation,
	                Description: issueDescription,
	                Comments: "", //comments, likes, dislikes are empty since users input their own to the database
	                Likes: "",
	                Dislikes: ""

	            }

	            //creating an ID for the added post
	            issueDateF = issueDate.replace(/[-]/g,"") //getting date
	            issueTimeF = issueTime.replace(/[:]/g,"")//getting date
	            issueStamp = issueDateF + issueTyperF + issueTimeF //pairing its time stamp with the issue category
	            issueRef.child(issueStamp).set(data); //setting post data to database under a child of its Post ID
	           
	            
	        }
	       

			//setting duration for scroll animations
			AOS.init({
  			duration: 1500,
			})


	</script>

	</body>


</html>
